(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{1193:(e,s,a)=>{Promise.resolve().then(a.bind(a,5888))},5888:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>b});var l=a(5155),t=a(2115),r=a(2596),i=a(9688);function n(){for(var e=arguments.length,s=Array(e),a=0;a<e;a++)s[a]=arguments[a];return(0,i.QP)((0,r.$)(s))}function d(e){let{className:s,...a}=e;return(0,l.jsx)("div",{"data-slot":"card",className:n("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",s),...a})}function c(e){let{className:s,...a}=e;return(0,l.jsx)("div",{"data-slot":"card-header",className:n("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",s),...a})}function o(e){let{className:s,...a}=e;return(0,l.jsx)("div",{"data-slot":"card-title",className:n("leading-none font-semibold",s),...a})}function x(e){let{className:s,...a}=e;return(0,l.jsx)("div",{"data-slot":"card-content",className:n("px-6",s),...a})}function m(e){let{className:s,type:a,...t}=e;return(0,l.jsx)("input",{type:a,"data-slot":"input",className:n("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",s),...t})}var u=a(968);function p(e){let{className:s,...a}=e;return(0,l.jsx)(u.b,{"data-slot":"label",className:n("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",s),...a})}var h=a(8124),N=a(4946);function g(e){let{className:s,...a}=e;return(0,l.jsx)(h.bL,{"data-slot":"radio-group",className:n("grid gap-3",s),...a})}function j(e){let{className:s,...a}=e;return(0,l.jsx)(h.q7,{"data-slot":"radio-group-item",className:n("border-input text-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 aspect-square size-4 shrink-0 rounded-full border shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",s),...a,children:(0,l.jsx)(h.C1,{"data-slot":"radio-group-indicator",className:"relative flex items-center justify-center",children:(0,l.jsx)(N.A,{className:"fill-primary absolute top-1/2 left-1/2 size-2 -translate-x-1/2 -translate-y-1/2"})})})}function b(){let[e,s]=(0,t.useState)(""),[a,r]=(0,t.useState)(""),[i,n]=(0,t.useState)(""),[u,h]=(0,t.useState)(""),[N,b]=(0,t.useState)("none"),[f,v]=(0,t.useState)("none"),[y,w]=(0,t.useState)(null),[C,F]=(0,t.useState)(null),[S,k]=(0,t.useState)(null),[L,_]=(0,t.useState)(null);(0,t.useEffect)(()=>{let s=parseFloat(e),l=parseFloat(a),t=parseFloat(i),r=parseFloat(u);if(!isNaN(s)&&s>0&&s<100){let e=Math.log;w({lc:s>=40?"切除不適応":(e(40)-e(s))/(e(100)-e(s))*100,nonLc:s>=50?"切除不適応":(e(50)-e(s))/(e(100)-e(s))*100})}else w(null);let n="mild"===N||"moderate"===N;if(isNaN(s)||isNaN(l)?F(null):n||l>2?F("手術不適応"):l<=1?s<10?F("右肝切除・左三区域切除まで可能"):s<20?F("区域切除・左肝切除まで可能"):s<30?F("亜区域切除まで可能"):s<40?F("部分切除まで可能"):F("核出術のみ可能"):l<=1.5?F("部分切除まで可能"):l<=1.9?F("核出術のみ可能"):F(null),isNaN(l)||isNaN(t)||isNaN(r))k(null);else{let e=0;l<2?e+=1:l<=3?e+=2:e+=3,t>3.5?e+=1:t>=2.8?e+=2:e+=3,r>70?e+=1:r>=40?e+=2:e+=3,"none"===N?e+=1:"mild"===N?e+=2:e+=3,"none"===f?e+=1:"mild"===f?e+=2:e+=3;let s="";s=e<=6?"Class A":e<=9?"Class B":"Class C",k({score:e,class:s})}if(isNaN(s)||isNaN(l)||isNaN(t)||isNaN(r))_(null);else{let e=0,a=0,i=0;"none"===N?e++:"mild"===N?a++:i++,l<2?e++:l>=2&&l<=3?a++:i++,t>3.5?e++:t>=3&&t<=3.5?a++:i++,s<15?e++:s>=15&&s<=40?a++:i++,r>80?e++:r>=50&&r<=80?a++:i++;_(i>=2?"Grade C":a>=2?"Grade B":"Grade A")}},[e,a,i,u,N,f]);let M=(e,s)=>{let a=s.replace(/[^0-9.]/g,""),l=a.split(".");l.length>2&&(a=l[0]+"."+l.slice(1).join("")),e(a)};return(0,l.jsx)("main",{className:"flex min-h-screen flex-col items-center justify-start p-1 bg-slate-50",children:(0,l.jsxs)("div",{className:"w-full max-w-xl space-y-1",children:[(0,l.jsxs)("div",{className:"text-center mt-0 mb-0",children:[(0,l.jsx)("h1",{className:"text-xl font-bold",children:"肝切除シミュレーター"}),(0,l.jsx)("p",{className:"text-muted-foreground text-xs",children:"各項目を入力すると、自動で計算結果が表示されます。"})]}),(0,l.jsxs)(d,{children:[(0,l.jsx)(c,{className:"p-0.5"}),(0,l.jsxs)(x,{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-1 p-1",children:[(0,l.jsxs)("div",{className:"grid gap-0.5",children:[(0,l.jsx)(p,{htmlFor:"icg-r15",className:"text-xs",children:"ICG R15値 (%)"}),(0,l.jsx)(m,{id:"icg-r15",type:"number",inputMode:"numeric",pattern:"[0-9]*",placeholder:"例: 15",value:e,onChange:e=>M(s,e.target.value),className:"text-xs"})]}),(0,l.jsxs)("div",{className:"grid gap-0.5",children:[(0,l.jsx)(p,{htmlFor:"bilirubin",className:"text-xs",children:"総ビリルビン値 (mg/dL)"}),(0,l.jsx)(m,{id:"bilirubin",type:"number",inputMode:"numeric",pattern:"[0-9]*",placeholder:"例: 0.8",value:a,onChange:e=>M(r,e.target.value),className:"text-xs"})]}),(0,l.jsxs)("div",{className:"grid gap-0.5",children:[(0,l.jsx)(p,{htmlFor:"albumin",className:"text-xs",children:"血清アルブミン値 (g/dL)"}),(0,l.jsx)(m,{id:"albumin",type:"number",inputMode:"numeric",pattern:"[0-9]*",placeholder:"例: 3.5",value:i,onChange:e=>M(n,e.target.value),className:"text-xs"})]}),(0,l.jsxs)("div",{className:"grid gap-0.5",children:[(0,l.jsx)(p,{htmlFor:"pt",className:"text-xs",children:"PT活性値 (%)"}),(0,l.jsx)(m,{id:"pt",type:"number",inputMode:"numeric",pattern:"[0-9]*",placeholder:"例: 90",value:u,onChange:e=>M(h,e.target.value),className:"text-xs"})]}),(0,l.jsxs)("div",{className:"grid gap-0.5 sm:col-span-2 lg:col-span-3",children:[(0,l.jsx)(p,{className:"text-xs",children:"腹水"}),(0,l.jsxs)(g,{value:N,onValueChange:e=>b(e),className:"flex flex-wrap gap-x-1",children:[(0,l.jsxs)("div",{className:"flex items-center space-x-0.5",children:[(0,l.jsx)(j,{value:"none",id:"asc-no"}),(0,l.jsx)(p,{htmlFor:"asc-no",className:"text-xs",children:"なし"})]}),(0,l.jsxs)("div",{className:"flex items-center space-x-0.5",children:[(0,l.jsx)(j,{value:"mild",id:"asc-mild"}),(0,l.jsx)(p,{htmlFor:"asc-mild",className:"text-xs",children:"軽度"})]}),(0,l.jsxs)("div",{className:"flex items-center space-x-0.5",children:[(0,l.jsx)(j,{value:"moderate",id:"asc-mod"}),(0,l.jsx)(p,{htmlFor:"asc-mod",className:"text-xs",children:"中等度以上"})]})]})]}),(0,l.jsxs)("div",{className:"grid gap-0.5 sm:col-span-2 lg:col-span-3",children:[(0,l.jsx)(p,{className:"text-xs",children:"肝性脳症"}),(0,l.jsxs)(g,{value:f,onValueChange:e=>v(e),className:"flex flex-wrap gap-x-1",children:[(0,l.jsxs)("div",{className:"flex items-center space-x-0.5",children:[(0,l.jsx)(j,{value:"none",id:"enc-no"}),(0,l.jsx)(p,{htmlFor:"enc-no",className:"text-xs",children:"なし"})]}),(0,l.jsxs)("div",{className:"flex items-center space-x-0.5",children:[(0,l.jsx)(j,{value:"mild",id:"enc-mild"}),(0,l.jsx)(p,{htmlFor:"enc-mild",className:"text-xs",children:"軽度"})]}),(0,l.jsxs)("div",{className:"flex items-center space-x-0.5",children:[(0,l.jsx)(j,{value:"sometimes",id:"enc-some"}),(0,l.jsx)(p,{htmlFor:"enc-some",className:"text-xs",children:"時々昏睡"})]})]})]})]})]}),(0,l.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-1",children:[(0,l.jsxs)(d,{className:S?"":"hidden",children:[(0,l.jsx)(c,{className:"p-1",children:(0,l.jsx)(o,{className:"text-base",children:"Child-Pugh Score"})}),(0,l.jsx)(x,{className:"p-1",children:(0,l.jsxs)("div",{className:"p-0.5 rounded-md border-2 border-red-500 text-center",children:[(0,l.jsxs)("p",{className:"text-xs",children:["合計スコア: ",(0,l.jsx)("span",{className:"font-bold",children:S&&S.score})]}),(0,l.jsx)("p",{className:"text-lg font-bold text-red-600",children:S&&S.class})]})})]}),(0,l.jsxs)(d,{className:L?"":"hidden",children:[(0,l.jsx)(c,{className:"p-1",children:(0,l.jsx)(o,{className:"text-base",children:"肝障害度"})}),(0,l.jsx)(x,{className:"p-1",children:(0,l.jsx)("div",{className:"p-0.5 rounded-md border-2 border-orange-500 text-center",children:(0,l.jsx)("p",{className:"text-lg font-bold text-orange-600",children:L})})})]}),(0,l.jsxs)(d,{className:y?"":"hidden",children:[(0,l.jsx)(c,{className:"p-1",children:(0,l.jsx)(o,{className:"text-base",children:"高崎の式"})}),(0,l.jsxs)(x,{className:"grid grid-cols-1 sm:grid-cols-2 gap-0.5 p-1",children:[(0,l.jsx)("div",{className:"p-0.5 rounded-md border-2 border-green-500",children:(0,l.jsxs)("p",{className:"font-bold text-xs",children:["正常肝 (non-LC): ",(0,l.jsx)("span",{className:"text-base font-bold text-green-600 float-right",children:y&&("number"==typeof y.nonLc?"".concat(y.nonLc.toFixed(1),"%"):y.nonLc)})]})}),(0,l.jsx)("div",{className:"p-0.5 rounded-md border-2 border-blue-500",children:(0,l.jsxs)("p",{className:"font-bold text-xs",children:["肝硬変 (LC): ",(0,l.jsx)("span",{className:"text-base font-bold text-blue-600 float-right",children:y&&("number"==typeof y.lc?"".concat(y.lc.toFixed(1),"%"):y.lc)})]})})]})]}),(0,l.jsxs)(d,{className:C?"":"hidden",children:[(0,l.jsx)(c,{className:"p-1",children:(0,l.jsx)(o,{className:"text-base",children:"幕内基準"})}),(0,l.jsx)(x,{className:"p-1",children:(0,l.jsx)("div",{className:"p-0.5 rounded-md border-2 border-purple-500",children:(0,l.jsx)("p",{className:"text-base font-bold text-purple-600 text-center",children:C})})})]})]})]})})}}},e=>{e.O(0,[46,441,964,358],()=>e(e.s=1193)),_N_E=e.O()}]);