(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{1193:(e,s,l)=>{Promise.resolve().then(l.bind(l,5888))},5888:(e,s,l)=>{"use strict";l.r(s),l.d(s,{default:()=>b});var a=l(5155),r=l(2115),i=l(2596),n=l(9688);function t(){for(var e=arguments.length,s=Array(e),l=0;l<e;l++)s[l]=arguments[l];return(0,n.QP)((0,i.$)(s))}function d(e){let{className:s,...l}=e;return(0,a.jsx)("div",{"data-slot":"card",className:t("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",s),...l})}function c(e){let{className:s,...l}=e;return(0,a.jsx)("div",{"data-slot":"card-header",className:t("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",s),...l})}function o(e){let{className:s,...l}=e;return(0,a.jsx)("div",{"data-slot":"card-title",className:t("leading-none font-semibold",s),...l})}function x(e){let{className:s,...l}=e;return(0,a.jsx)("div",{"data-slot":"card-content",className:t("px-6",s),...l})}function u(e){let{className:s,type:l,...r}=e;return(0,a.jsx)("input",{type:l,"data-slot":"input",className:t("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",s),...r})}var m=l(968);function h(e){let{className:s,...l}=e;return(0,a.jsx)(m.b,{"data-slot":"label",className:t("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",s),...l})}var p=l(8124),g=l(4946);function j(e){let{className:s,...l}=e;return(0,a.jsx)(p.bL,{"data-slot":"radio-group",className:t("grid gap-3",s),...l})}function f(e){let{className:s,...l}=e;return(0,a.jsx)(p.q7,{"data-slot":"radio-group-item",className:t("border-input text-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 aspect-square size-4 shrink-0 rounded-full border shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",s),...l,children:(0,a.jsx)(p.C1,{"data-slot":"radio-group-indicator",className:"relative flex items-center justify-center",children:(0,a.jsx)(g.A,{className:"fill-primary absolute top-1/2 left-1/2 size-2 -translate-x-1/2 -translate-y-1/2"})})})}function b(){let[e,s]=(0,r.useState)(""),[l,i]=(0,r.useState)(""),[n,t]=(0,r.useState)(""),[m,p]=(0,r.useState)(""),[g,b]=(0,r.useState)("none"),[v,N]=(0,r.useState)("none"),[y,w]=(0,r.useState)(null),[C,F]=(0,r.useState)(null),[S,k]=(0,r.useState)(null);return(0,r.useEffect)(()=>{let s=parseFloat(e),a=parseFloat(l),r=parseFloat(n),i=parseFloat(m);if(!isNaN(s)&&s>0&&s<100){let e=Math.log;w({lc:s>=40?"切除不適応":(e(40)-e(s))/(e(100)-e(s))*100,nonLc:s>=50?"切除不適応":(e(50)-e(s))/(e(100)-e(s))*100})}else w(null);let t="mild"===g||"moderate"===g;if(isNaN(s)||isNaN(a)?F(null):t||a>2?F("手術不適応"):a<=1?s<10?F("右肝切除・左三区域切除まで可能"):s<20?F("区域切除・左肝切除まで可能"):s<30?F("亜区域切除まで可能"):s<40?F("部分切除まで可能"):F("核出術のみ可能"):a<=1.5?F("部分切除まで可能"):a<=1.9?F("核出術のみ可能"):F(null),isNaN(a)||isNaN(r)||isNaN(i))k(null);else{let e=0;a<2?e+=1:a<=3?e+=2:e+=3,r>3.5?e+=1:r>=2.8?e+=2:e+=3,i>70?e+=1:i>=40?e+=2:e+=3,"none"===g?e+=1:"mild"===g?e+=2:e+=3,"none"===v?e+=1:"mild"===v?e+=2:e+=3;let s="";s=e<=6?"Class A":e<=9?"Class B":"Class C",k({score:e,class:s})}},[e,l,n,m,g,v]),(0,a.jsx)("main",{className:"flex min-h-screen flex-col items-center justify-start p-4 sm:p-8 bg-slate-50",children:(0,a.jsxs)("div",{className:"w-full max-w-3xl space-y-8",children:[(0,a.jsxs)("div",{className:"text-center mt-8",children:[(0,a.jsx)("h1",{className:"text-3xl sm:text-4xl font-bold",children:"肝切除シミュレーター"}),(0,a.jsx)("p",{className:"text-muted-foreground mt-2",children:"各項目を入力すると、自動で計算結果が表示されます。"})]}),(0,a.jsxs)(d,{children:[(0,a.jsx)(c,{children:(0,a.jsx)(o,{children:"患者情報入力"})}),(0,a.jsxs)(x,{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:[(0,a.jsxs)("div",{className:"grid gap-2",children:[(0,a.jsx)(h,{htmlFor:"icg-r15",children:"ICG R15値 (%)"}),(0,a.jsx)(u,{id:"icg-r15",type:"number",value:e,onChange:e=>s(e.target.value)})]}),(0,a.jsxs)("div",{className:"grid gap-2",children:[(0,a.jsx)(h,{htmlFor:"bilirubin",children:"総ビリルビン値 (mg/dL)"}),(0,a.jsx)(u,{id:"bilirubin",type:"number",value:l,onChange:e=>i(e.target.value)})]}),(0,a.jsxs)("div",{className:"grid gap-2",children:[(0,a.jsx)(h,{htmlFor:"albumin",children:"血清アルブミン値 (g/dL)"}),(0,a.jsx)(u,{id:"albumin",type:"number",value:n,onChange:e=>t(e.target.value)})]}),(0,a.jsxs)("div",{className:"grid gap-2",children:[(0,a.jsx)(h,{htmlFor:"pt",children:"PT活性値 (%)"}),(0,a.jsx)(u,{id:"pt",type:"number",value:m,onChange:e=>p(e.target.value)})]}),(0,a.jsxs)("div",{className:"grid gap-2 sm:col-span-2 lg:col-span-3",children:[(0,a.jsx)(h,{children:"腹水"}),(0,a.jsxs)(j,{value:g,onValueChange:e=>b(e),className:"flex flex-wrap gap-x-4",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(f,{value:"none",id:"asc-no"}),(0,a.jsx)(h,{htmlFor:"asc-no",children:"なし"})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(f,{value:"mild",id:"asc-mild"}),(0,a.jsx)(h,{htmlFor:"asc-mild",children:"軽度"})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(f,{value:"moderate",id:"asc-mod"}),(0,a.jsx)(h,{htmlFor:"asc-mod",children:"中等度以上"})]})]})]}),(0,a.jsxs)("div",{className:"grid gap-2 sm:col-span-2 lg:col-span-3",children:[(0,a.jsx)(h,{children:"肝性脳症"}),(0,a.jsxs)(j,{value:v,onValueChange:e=>N(e),className:"flex flex-wrap gap-x-4",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(f,{value:"none",id:"enc-no"}),(0,a.jsx)(h,{htmlFor:"enc-no",children:"なし"})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(f,{value:"mild",id:"enc-mild"}),(0,a.jsx)(h,{htmlFor:"enc-mild",children:"軽度"})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(f,{value:"sometimes",id:"enc-some"}),(0,a.jsx)(h,{htmlFor:"enc-some",children:"時々昏睡"})]})]})]})]})]}),(0,a.jsxs)("div",{className:"space-y-8",children:[(0,a.jsxs)(d,{className:y?"":"hidden",children:[(0,a.jsx)(c,{children:(0,a.jsx)(o,{children:"高崎の式"})}),(0,a.jsxs)(x,{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[(0,a.jsx)("div",{className:"p-3 rounded-md border-2 border-blue-500",children:(0,a.jsxs)("p",{className:"font-bold",children:["肝硬変 (LC): ",(0,a.jsx)("span",{className:"text-2xl font-bold text-blue-600 float-right",children:y&&("number"==typeof y.lc?"".concat(y.lc.toFixed(1),"%"):y.lc)})]})}),(0,a.jsx)("div",{className:"p-3 rounded-md border-2 border-green-500",children:(0,a.jsxs)("p",{className:"font-bold",children:["正常肝 (non-LC): ",(0,a.jsx)("span",{className:"text-2xl font-bold text-green-600 float-right",children:y&&("number"==typeof y.nonLc?"".concat(y.nonLc.toFixed(1),"%"):y.nonLc)})]})})]})]}),(0,a.jsxs)(d,{className:C?"":"hidden",children:[(0,a.jsx)(c,{children:(0,a.jsx)(o,{children:"幕内基準"})}),(0,a.jsx)(x,{children:(0,a.jsx)("div",{className:"p-4 rounded-md border-2 border-purple-500",children:(0,a.jsx)("p",{className:"text-2xl font-bold text-purple-600 text-center",children:C})})})]}),(0,a.jsxs)(d,{className:S?"":"hidden",children:[(0,a.jsx)(c,{children:(0,a.jsx)(o,{children:"Child-Pugh Score"})}),(0,a.jsxs)(x,{className:"p-4 rounded-md border-2 border-red-500 text-center",children:[(0,a.jsxs)("p",{className:"text-lg",children:["合計スコア: ",(0,a.jsx)("span",{className:"font-bold",children:S&&S.score})]}),(0,a.jsx)("p",{className:"text-3xl font-bold text-red-600",children:S&&S.class})]})]})]})]})})}}},e=>{e.O(0,[46,441,964,358],()=>e(e.s=1193)),_N_E=e.O()}]);